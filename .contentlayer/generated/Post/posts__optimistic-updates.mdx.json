{
  "title": "Improving User Experience with Optimistic Updates",
  "date": "2023-03-29T00:00:00.000Z",
  "body": {
    "raw": "\nIn this post, I'll share some thoughts about improving user experience/interactivity for your app with one simple technique called **Optimistic Updates**.\n\n<br />\nIn simple words, **Optimistic Updates** is updating the UI depending on the optimistic\nresponse without waiting for the actual response from the server that may return\nwith an error.\n<br />\n\nLet's go with an example that demonstrates the goal of that and how can we implement it.\n\n## The Like button on Twitter\n\n![](https://techcrunch.com/wp-content/uploads/2015/11/twitter-heart.gif?w=480)\n\nImagine that you could be assigned a task to implement a like feature on user tweets, The task is when someone clicked on the like icon, you should make an HTTP request to the server to add it to users' likes, also do a UI change to make this icon active. Keep in mind that the request may fail (ex. user deleted it, your session is expired,...etc).\n\n<br />\n\nThe slow way to implement this feature is first doing the request, waiting for the response, then update the UI based on the response. Why when the user clicked on the like icon he expects that he liked the tweet and everything has gone well, but the UI hasn't reflected that there's a lag between the user clicks and the HTTP response. This lag could be solved by the **Optimistic Update**.\n\n<br />\n\nIn the **Optimistic Update** solution, we'll update the UI directly based on the optimistic response based on user input, and make the HTTP call, then when the response gives us everything is ok, then no extra work from our side, otherwise, we'll roll back the UI change to the state before the user clicks.\n\n<br />\n\nCheck out the behavior here from [Apollo GrahpQL Client](https://www.apollographql.com/docs/react/performance/optimistic-ui) Docs, you'll notice the adding item to the list displayed it directly before the app get a response, while editing a list item is not doing the same.\n\n<iframe\n  src=\"https://codesandbox.io/embed/github/apollographql/docs-examples/tree/main/full-stack/todo-list/todo-list-client?fontsize=14&hidenavigation=1&theme=dark\"\n  style={{\n    width: \"100%\",\n    height: \"500px\",\n    margin: \"5px auto\",\n    border: 0,\n    borderRadius: \"4px\",\n    overflow: \"hidden\",\n  }}\n  title=\"design-system\"\n  allow=\"\"\n  sandbox=\"allow-forms  allow-same-origin allow-scripts\"\n></iframe>\n\n<br />\n\n### What if the user clicks on a button multiple times in a use case like medium.com clap button?\n\n<br />\n\n![](https://raw.githubusercontent.com/EddieAbbondanzio/clapbutton/master/images/example.gif)\n\nWe can do the **Optimistic Update** as well, but we can add a debounce functionality to it.\n\n<br />\n**Debounce** means calling a function but after waiting some time until the user\nfinishes his interactivity. The benefit here is doing as minimum as possible of HTTP\nrequests, we just send the final user clicks to the backend but keep the UI updated\nwith the optimistic value.\n<br />\n\nIn conclusion, **Optimistic Update**s can greatly improve the user experience of your\napp by reducing lag and increasing interactivity. By implementing this simple technique,\nyou can update the UI instantly based on user input, without waiting for a response\nfrom the server. This can help your app feel more responsive and increase user engagement.\nAdditionally, adding a **debounce** functionality can reduce the number of HTTP requests\nand make your app even more efficient. So next time you're working on an interactive\nfeature for your app, consider implementing optimistic updates to take your user\nexperience to the next level.\n\n<br />\nResources:\n\n- [https://swr.vercel.app/docs/mutation#optimistic-updates](https://swr.vercel.app/docs/mutation#optimistic-updates)\n- [https://tanstack.com/query/v4/docs/react/guides/optimistic-updates](https://tanstack.com/query/v4/docs/react/guides/optimistic-updates)\n\nPublished it on [hashnode](https://zeyadetman.hashnode.dev/optimistic-updates) and [medium.com](https://medium.com/@zeyadetman/improving-user-experience-with-optimistic-updates-a-simple-technique-to-implement-interactive-7bf103f7b34d)\n",
    "code": "var Component=(()=>{var st=Object.create;var z=Object.defineProperty;var dt=Object.getOwnPropertyDescriptor;var lt=Object.getOwnPropertyNames;var ut=Object.getPrototypeOf,mt=Object.prototype.hasOwnProperty;var B=(l,r)=>()=>(r||l((r={exports:{}}).exports,r),r.exports),ft=(l,r)=>{for(var h in r)z(l,h,{get:r[h],enumerable:!0})},xe=(l,r,h,y)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let g of lt(r))!mt.call(l,g)&&g!==h&&z(l,g,{get:()=>r[g],enumerable:!(y=dt(r,g))||y.enumerable});return l};var pt=(l,r,h)=>(h=l!=null?st(ut(l)):{},xe(r||!l||!l.__esModule?z(h,\"default\",{value:l,enumerable:!0}):h,l)),bt=l=>xe(z({},\"__esModule\",{value:!0}),l);var Pe=B((xt,Ne)=>{Ne.exports=React});var we=B(H=>{\"use strict\";(function(){\"use strict\";var l=Pe(),r=Symbol.for(\"react.element\"),h=Symbol.for(\"react.portal\"),y=Symbol.for(\"react.fragment\"),g=Symbol.for(\"react.strict_mode\"),G=Symbol.for(\"react.profiler\"),X=Symbol.for(\"react.provider\"),K=Symbol.for(\"react.context\"),j=Symbol.for(\"react.forward_ref\"),D=Symbol.for(\"react.suspense\"),I=Symbol.for(\"react.suspense_list\"),R=Symbol.for(\"react.memo\"),F=Symbol.for(\"react.lazy\"),Re=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,Te=\"@@iterator\";function Ue(e){if(e===null||typeof e!=\"object\")return null;var t=J&&e[J]||e[Te];return typeof t==\"function\"?t:null}var N=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function f(e){{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];ke(\"error\",e,n)}}function ke(e,t,n){{var i=N.ReactDebugCurrentFrame,s=i.getStackAddendum();s!==\"\"&&(t+=\"%s\",n=n.concat([s]));var d=n.map(function(c){return String(c)});d.unshift(\"Warning: \"+t),Function.prototype.apply.call(console[e],console,d)}}var Oe=!1,Ce=!1,ze=!1,De=!1,Ie=!1,Q;Q=Symbol.for(\"react.module.reference\");function Fe(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===y||e===G||Ie||e===g||e===D||e===I||De||e===Re||Oe||Ce||ze||typeof e==\"object\"&&e!==null&&(e.$$typeof===F||e.$$typeof===R||e.$$typeof===X||e.$$typeof===K||e.$$typeof===j||e.$$typeof===Q||e.getModuleId!==void 0))}function Ae(e,t,n){var i=e.displayName;if(i)return i;var s=t.displayName||t.name||\"\";return s!==\"\"?n+\"(\"+s+\")\":n}function Z(e){return e.displayName||\"Context\"}function _(e){if(e==null)return null;if(typeof e.tag==\"number\"&&f(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case y:return\"Fragment\";case h:return\"Portal\";case G:return\"Profiler\";case g:return\"StrictMode\";case D:return\"Suspense\";case I:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case K:var t=e;return Z(t)+\".Consumer\";case X:var n=e;return Z(n._context)+\".Provider\";case j:return Ae(e,e.render,\"ForwardRef\");case R:var i=e.displayName||null;return i!==null?i:_(e.type)||\"Memo\";case F:{var s=e,d=s._payload,c=s._init;try{return _(c(d))}catch{return null}}}return null}var x=Object.assign,E=0,ee,te,ne,re,ae,ie,oe;function ce(){}ce.__reactDisabledLog=!0;function We(){{if(E===0){ee=console.log,te=console.info,ne=console.warn,re=console.error,ae=console.group,ie=console.groupCollapsed,oe=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ce,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}E++}}function Ye(){{if(E--,E===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},e,{value:ee}),info:x({},e,{value:te}),warn:x({},e,{value:ne}),error:x({},e,{value:re}),group:x({},e,{value:ae}),groupCollapsed:x({},e,{value:ie}),groupEnd:x({},e,{value:oe})})}E<0&&f(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var A=N.ReactCurrentDispatcher,W;function T(e,t,n){{if(W===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\\n( *(at )?)/);W=i&&i[1]||\"\"}return`\n`+W+e}}var Y=!1,U;{var $e=typeof WeakMap==\"function\"?WeakMap:Map;U=new $e}function se(e,t){if(!e||Y)return\"\";{var n=U.get(e);if(n!==void 0)return n}var i;Y=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var d;d=A.current,A.current=null,We();try{if(t){var c=function(){throw Error()};if(Object.defineProperty(c.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(c,[])}catch(v){i=v}Reflect.construct(e,[],c)}else{try{c.call()}catch(v){i=v}e.call(c.prototype)}}else{try{throw Error()}catch(v){i=v}e()}}catch(v){if(v&&i&&typeof v.stack==\"string\"){for(var o=v.stack.split(`\n`),p=i.stack.split(`\n`),u=o.length-1,m=p.length-1;u>=1&&m>=0&&o[u]!==p[m];)m--;for(;u>=1&&m>=0;u--,m--)if(o[u]!==p[m]){if(u!==1||m!==1)do if(u--,m--,m<0||o[u]!==p[m]){var b=`\n`+o[u].replace(\" at new \",\" at \");return e.displayName&&b.includes(\"<anonymous>\")&&(b=b.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&U.set(e,b),b}while(u>=1&&m>=0);break}}}finally{Y=!1,A.current=d,Ye(),Error.prepareStackTrace=s}var w=e?e.displayName||e.name:\"\",ye=w?T(w):\"\";return typeof e==\"function\"&&U.set(e,ye),ye}function Le(e,t,n){return se(e,!1)}function Me(e){var t=e.prototype;return!!(t&&t.isReactComponent)}function k(e,t,n){if(e==null)return\"\";if(typeof e==\"function\")return se(e,Me(e));if(typeof e==\"string\")return T(e);switch(e){case D:return T(\"Suspense\");case I:return T(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case j:return Le(e.render);case R:return k(e.type,t,n);case F:{var i=e,s=i._payload,d=i._init;try{return k(d(s),t,n)}catch{}}}return\"\"}var O=Object.prototype.hasOwnProperty,de={},le=N.ReactDebugCurrentFrame;function C(e){if(e){var t=e._owner,n=k(e.type,e._source,t?t.type:null);le.setExtraStackFrame(n)}else le.setExtraStackFrame(null)}function Ve(e,t,n,i,s){{var d=Function.call.bind(O);for(var c in e)if(d(e,c)){var o=void 0;try{if(typeof e[c]!=\"function\"){var p=Error((i||\"React class\")+\": \"+n+\" type `\"+c+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[c]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw p.name=\"Invariant Violation\",p}o=e[c](t,c,i,n,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(u){o=u}o&&!(o instanceof Error)&&(C(s),f(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",i||\"React class\",n,c,typeof o),C(null)),o instanceof Error&&!(o.message in de)&&(de[o.message]=!0,C(s),f(\"Failed %s type: %s\",n,o.message),C(null))}}}var qe=Array.isArray;function $(e){return qe(e)}function Be(e){{var t=typeof Symbol==\"function\"&&Symbol.toStringTag,n=t&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return n}}function He(e){try{return ue(e),!1}catch{return!0}}function ue(e){return\"\"+e}function me(e){if(He(e))return f(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Be(e)),ue(e)}var S=N.ReactCurrentOwner,Ge={key:!0,ref:!0,__self:!0,__source:!0},fe,pe,L;L={};function Xe(e){if(O.call(e,\"ref\")){var t=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(t&&t.isReactWarning)return!1}return e.ref!==void 0}function Ke(e){if(O.call(e,\"key\")){var t=Object.getOwnPropertyDescriptor(e,\"key\").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function Je(e,t){if(typeof e.ref==\"string\"&&S.current&&t&&S.current.stateNode!==t){var n=_(S.current.type);L[n]||(f('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',_(S.current.type),e.ref),L[n]=!0)}}function Qe(e,t){{var n=function(){fe||(fe=!0,f(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",t))};n.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:n,configurable:!0})}}function Ze(e,t){{var n=function(){pe||(pe=!0,f(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",t))};n.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:n,configurable:!0})}}var et=function(e,t,n,i,s,d,c){var o={$$typeof:r,type:e,key:t,ref:n,props:c,_owner:d};return o._store={},Object.defineProperty(o._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(o,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(o,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(o.props),Object.freeze(o)),o};function tt(e,t,n,i,s){{var d,c={},o=null,p=null;n!==void 0&&(me(n),o=\"\"+n),Ke(t)&&(me(t.key),o=\"\"+t.key),Xe(t)&&(p=t.ref,Je(t,s));for(d in t)O.call(t,d)&&!Ge.hasOwnProperty(d)&&(c[d]=t[d]);if(e&&e.defaultProps){var u=e.defaultProps;for(d in u)c[d]===void 0&&(c[d]=u[d])}if(o||p){var m=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;o&&Qe(c,m),p&&Ze(c,m)}return et(e,o,p,s,i,S.current,c)}}var M=N.ReactCurrentOwner,be=N.ReactDebugCurrentFrame;function P(e){if(e){var t=e._owner,n=k(e.type,e._source,t?t.type:null);be.setExtraStackFrame(n)}else be.setExtraStackFrame(null)}var V;V=!1;function q(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===r}function he(){{if(M.current){var e=_(M.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function nt(e){{if(e!==void 0){var t=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),n=e.lineNumber;return`\n\nCheck your code at `+t+\":\"+n+\".\"}return\"\"}}var _e={};function rt(e){{var t=he();if(!t){var n=typeof e==\"string\"?e:e.displayName||e.name;n&&(t=`\n\nCheck the top-level render call using <`+n+\">.\")}return t}}function ve(e,t){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var n=rt(t);if(_e[n])return;_e[n]=!0;var i=\"\";e&&e._owner&&e._owner!==M.current&&(i=\" It was passed a child from \"+_(e._owner.type)+\".\"),P(e),f('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,i),P(null)}}function ge(e,t){{if(typeof e!=\"object\")return;if($(e))for(var n=0;n<e.length;n++){var i=e[n];q(i)&&ve(i,t)}else if(q(e))e._store&&(e._store.validated=!0);else if(e){var s=Ue(e);if(typeof s==\"function\"&&s!==e.entries)for(var d=s.call(e),c;!(c=d.next()).done;)q(c.value)&&ve(c.value,t)}}}function at(e){{var t=e.type;if(t==null||typeof t==\"string\")return;var n;if(typeof t==\"function\")n=t.propTypes;else if(typeof t==\"object\"&&(t.$$typeof===j||t.$$typeof===R))n=t.propTypes;else return;if(n){var i=_(t);Ve(n,e.props,\"prop\",i,e)}else if(t.PropTypes!==void 0&&!V){V=!0;var s=_(t);f(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",s||\"Unknown\")}typeof t.getDefaultProps==\"function\"&&!t.getDefaultProps.isReactClassApproved&&f(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function it(e){{for(var t=Object.keys(e.props),n=0;n<t.length;n++){var i=t[n];if(i!==\"children\"&&i!==\"key\"){P(e),f(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",i),P(null);break}}e.ref!==null&&(P(e),f(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),P(null))}}function ot(e,t,n,i,s,d){{var c=Fe(e);if(!c){var o=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(o+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var p=nt(s);p?o+=p:o+=he();var u;e===null?u=\"null\":$(e)?u=\"array\":e!==void 0&&e.$$typeof===r?(u=\"<\"+(_(e.type)||\"Unknown\")+\" />\",o=\" Did you accidentally export a JSX literal instead of a component?\"):u=typeof e,f(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",u,o)}var m=tt(e,t,n,s,d);if(m==null)return m;if(c){var b=t.children;if(b!==void 0)if(i)if($(b)){for(var w=0;w<b.length;w++)ge(b[w],e);Object.freeze&&Object.freeze(b)}else f(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(b,e)}return e===y?it(m):at(m),m}}var ct=ot;H.Fragment=y,H.jsxDEV=ct})()});var Se=B((Pt,Ee)=>{\"use strict\";Ee.exports=we()});var gt={};ft(gt,{default:()=>vt,frontmatter:()=>ht});var a=pt(Se()),ht={title:\"Improving User Experience with Optimistic Updates\",date:\"2023-03-29\",lang:\"en\",tags:[\"technical\",\"frontend\",\"UX\",\"software engineering\"],layout:\"post\",author:\"zeyadetman\",comments:!0};function je(l){let r=Object.assign({p:\"p\",strong:\"strong\",h2:\"h2\",img:\"img\",a:\"a\",h3:\"h3\",ul:\"ul\",li:\"li\"},l.components);return(0,a.jsxDEV)(a.Fragment,{children:[(0,a.jsxDEV)(r.p,{children:[\"In this post, I'll share some thoughts about improving user experience/interactivity for your app with one simple technique called \",(0,a.jsxDEV)(r.strong,{children:\"Optimistic Updates\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:15,columnNumber:132},this),\".\"]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:[\"In simple words, \",(0,a.jsxDEV)(r.strong,{children:\"Optimistic Updates\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:18,columnNumber:18},this),` is updating the UI depending on the optimistic\nresponse without waiting for the actual response from the server that may return\nwith an error.`]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:\"Let's go with an example that demonstrates the goal of that and how can we implement it.\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.h2,{children:\"The Like button on Twitter\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:(0,a.jsxDEV)(r.img,{src:\"https://techcrunch.com/wp-content/uploads/2015/11/twitter-heart.gif?w=480\",alt:\"\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:27,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:\"Imagine that you could be assigned a task to implement a like feature on user tweets, The task is when someone clicked on the like icon, you should make an HTTP request to the server to add it to users' likes, also do a UI change to make this icon active. Keep in mind that the request may fail (ex. user deleted it, your session is expired,...etc).\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:[\"The slow way to implement this feature is first doing the request, waiting for the response, then update the UI based on the response. Why when the user clicked on the like icon he expects that he liked the tweet and everything has gone well, but the UI hasn't reflected that there's a lag between the user clicks and the HTTP response. This lag could be solved by the \",(0,a.jsxDEV)(r.strong,{children:\"Optimistic Update\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:33,columnNumber:370},this),\".\"]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:[\"In the \",(0,a.jsxDEV)(r.strong,{children:\"Optimistic Update\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:37,columnNumber:8},this),\" solution, we'll update the UI directly based on the optimistic response based on user input, and make the HTTP call, then when the response gives us everything is ok, then no extra work from our side, otherwise, we'll roll back the UI change to the state before the user clicks.\"]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:[\"Check out the behavior here from \",(0,a.jsxDEV)(r.a,{href:\"https://www.apollographql.com/docs/react/performance/optimistic-ui\",children:\"Apollo GrahpQL Client\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:41,columnNumber:34},this),\" Docs, you'll notice the adding item to the list displayed it directly before the app get a response, while editing a list item is not doing the same.\"]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"iframe\",{src:\"https://codesandbox.io/embed/github/apollographql/docs-examples/tree/main/full-stack/todo-list/todo-list-client?fontsize=14&hidenavigation=1&theme=dark\",style:{width:\"100%\",height:\"500px\",margin:\"5px auto\",border:0,borderRadius:\"4px\",overflow:\"hidden\"},title:\"design-system\",allow:\"\",sandbox:\"allow-forms  allow-same-origin allow-scripts\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:58,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.h3,{children:\"What if the user clicks on a button multiple times in a use case like medium.com clap button?\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:60,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:62,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:(0,a.jsxDEV)(r.img,{src:\"https://raw.githubusercontent.com/EddieAbbondanzio/clapbutton/master/images/example.gif\",alt:\"\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:64,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:64,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:[\"We can do the \",(0,a.jsxDEV)(r.strong,{children:\"Optimistic Update\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:66,columnNumber:15},this),\" as well, but we can add a debounce functionality to it.\"]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:66,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:68,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:[(0,a.jsxDEV)(r.strong,{children:\"Debounce\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:69,columnNumber:1},this),` means calling a function but after waiting some time until the user\nfinishes his interactivity. The benefit here is doing as minimum as possible of HTTP\nrequests, we just send the final user clicks to the backend but keep the UI updated\nwith the optimistic value.`]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:73,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:[\"In conclusion, \",(0,a.jsxDEV)(r.strong,{children:\"Optimistic Update\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:75,columnNumber:16},this),`s can greatly improve the user experience of your\napp by reducing lag and increasing interactivity. By implementing this simple technique,\nyou can update the UI instantly based on user input, without waiting for a response\nfrom the server. This can help your app feel more responsive and increase user engagement.\nAdditionally, adding a `,(0,a.jsxDEV)(r.strong,{children:\"debounce\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:79,columnNumber:24},this),` functionality can reduce the number of HTTP requests\nand make your app even more efficient. So next time you're working on an interactive\nfeature for your app, consider implementing optimistic updates to take your user\nexperience to the next level.`]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:75,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:84,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:\"Resources:\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:85,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.ul,{children:[`\n`,(0,a.jsxDEV)(r.li,{children:(0,a.jsxDEV)(r.a,{href:\"https://swr.vercel.app/docs/mutation#optimistic-updates\",children:\"https://swr.vercel.app/docs/mutation#optimistic-updates\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:87,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:87,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.li,{children:(0,a.jsxDEV)(r.a,{href:\"https://tanstack.com/query/v4/docs/react/guides/optimistic-updates\",children:\"https://tanstack.com/query/v4/docs/react/guides/optimistic-updates\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:88,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:88,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:87,columnNumber:1},this),`\n`,(0,a.jsxDEV)(r.p,{children:[\"Published it on \",(0,a.jsxDEV)(r.a,{href:\"https://zeyadetman.hashnode.dev/optimistic-updates\",children:\"hashnode\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:90,columnNumber:17},this),\" and \",(0,a.jsxDEV)(r.a,{href:\"https://medium.com/@zeyadetman/improving-user-experience-with-optimistic-updates-a-simple-technique-to-implement-interactive-7bf103f7b34d\",children:\"medium.com\"},void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:90,columnNumber:84},this)]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:90,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\",lineNumber:1,columnNumber:1},this)}function _t(l={}){let{wrapper:r}=l.components||{};return r?(0,a.jsxDEV)(r,Object.assign({},l,{children:(0,a.jsxDEV)(je,l,void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\"},this)}),void 0,!1,{fileName:\"/Users/zeyadetman/Side Projects/blog-v5/content/posts/_mdx_bundler_entry_point-cc465627-c93c-4d2a-aee7-5cd4233d1ca6.mdx\"},this):je(l)}var vt=_t;return bt(gt);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "posts/optimistic-updates.mdx",
  "_raw": {
    "sourceFilePath": "posts/optimistic-updates.mdx",
    "sourceFileName": "optimistic-updates.mdx",
    "sourceFileDir": "posts",
    "contentType": "mdx",
    "flattenedPath": "posts/optimistic-updates"
  },
  "type": "Post",
  "slug": "/posts/optimistic-updates",
  "slugAsParams": "optimistic-updates"
}